import{r as o,j as e,K as u,a5 as S}from"./index-D-XR31JT.js";import{u as w,c as R}from"./ThemeProvider-B2JDDGPV.js";const A=o.createContext(null);A.displayName="InputGroupContext";const D=o.createContext({}),T=o.forwardRef(({id:n,bsPrefix:a,className:c,type:h="checkbox",isValid:m=!1,isInvalid:r=!1,as:p="input",...t},b)=>{const{controlId:x}=o.useContext(D);return a=w(a,"form-check-input"),e.jsx(p,{...t,ref:b,type:h,id:n||x,className:R(c,a,m&&"is-valid",r&&"is-invalid")})});T.displayName="FormCheckInput";const v=o.forwardRef(({className:n,bsPrefix:a,as:c="span",...h},m)=>(a=w(a,"input-group-text"),e.jsx(c,{ref:m,className:R(n,a),...h})));v.displayName="InputGroupText";const H=n=>e.jsx(v,{children:e.jsx(T,{type:"checkbox",...n})}),U=n=>e.jsx(v,{children:e.jsx(T,{type:"radio",...n})}),W=o.forwardRef(({bsPrefix:n,size:a,hasValidation:c,className:h,as:m="div",...r},p)=>{n=w(n,"input-group");const t=o.useMemo(()=>({}),[]);return e.jsx(A.Provider,{value:t,children:e.jsx(m,{ref:p,...r,className:R(h,n,a&&`${n}-${a}`,c&&"has-validation")})})});W.displayName="InputGroup";const y=Object.assign(W,{Text:v,Radio:U,Checkbox:H}),J=({children:n,currentPage:a,totalPages:c,onPageChange:h,className:m=""})=>{const r=t=>{t>=1&&t<=c&&t!==a&&h(t)},p=()=>{const t=[];let x=Math.max(1,a-Math.floor(2.5)),j=Math.min(c,x+5-1);j-x+1<5&&(x=Math.max(1,j-5+1));for(let d=x;d<=j;d++)t.push(e.jsx("li",{className:`page-item ${d===a?"active":""}`,children:e.jsx("a",{href:"#",className:"page-link",onClick:k=>{k.preventDefault(),r(d)},children:d})},d));return t};return e.jsxs("div",{className:`d-flex flex-stack flex-wrap pt-5 mx-10 ${m}`,children:[e.jsx("div",{className:"fs-6 fw-bold text-gray-700",children:n}),e.jsxs("ul",{className:"pagination",children:[e.jsx("li",{className:`page-item ${a===1?"disabled":""}`,children:e.jsx("a",{href:"#",className:"page-link",onClick:t=>{t.preventDefault(),r(a-1)},children:e.jsx("i",{className:"previous"})})}),p(),e.jsx("li",{className:`page-item ${a===c?"disabled":""}`,children:e.jsx("a",{href:"#",className:"page-link",onClick:t=>{t.preventDefault(),r(a+1)},children:e.jsx("i",{className:"next"})})})]})]})},Y=({className:n,rows:a,columns:c,labelAdd:h,filters:m=[],onDelete:r,onEdit:p,onPrint:t,onAddClick:b,onRowClick:x,roleAccess:j=["ADMIN","OWNER","WAREHOUSE"]})=>{const[d,k]=o.useState(10),[P,N]=o.useState(1),[C,V]=o.useState(""),[G,M]=o.useState(""),[$,K]=o.useState({}),g=a.filter(s=>{const i=!C||Object.values(s).some(f=>String(f).toLowerCase().includes(C.toLowerCase())),l=m.every(f=>{const O=$[f.key];return!O||String(s[f.key])===O});return i&&l}),E=Math.ceil(g.length/d),I=(P-1)*d,F=I+d,L=g.slice(I,F),q=m.reduce((s,i)=>(s[i.key]=i.options||Array.from(new Set(a.map(l=>String(l[i.key])))),s),{}),z=s=>{N(s)},B=s=>{k(Number(s.target.value)),N(1)};return e.jsxs("div",{className:`card ${n}`,children:[e.jsxs("div",{className:"d-flex justify-content-center gap-3 mx-10 my-5",children:[e.jsxs(y,{size:"sm",children:[e.jsx(y.Text,{children:e.jsx(u,{iconName:"magnifier",className:"fs-3"})}),e.jsx("input",{type:"text",className:"form-control",placeholder:"Search...",value:G,onChange:s=>M(s.target.value),onKeyDown:s=>{s.key==="Enter"&&(V(G),N(1))}}),C&&e.jsx("button",{type:"button",className:"btn btn-outline-dark",onClick:()=>{M(""),V(""),N(1)},children:e.jsx(u,{iconName:"cross",className:"fs-3"})})]}),m.map(s=>e.jsxs(y,{size:"sm",style:{maxWidth:"300px"},children:[e.jsx(y.Text,{children:e.jsx(u,{iconName:"filter",className:"fs-3"})}),e.jsxs("select",{className:"form-select",value:$[s.key]||"",onChange:i=>{K(l=>({...l,[s.key]:i.target.value})),N(1)},children:[e.jsx("option",{value:"",children:s.label}),q[s.key].map(i=>e.jsx("option",{value:i,children:i},i))]})]},s.key))]}),e.jsx("div",{className:"border-0 mx-10",children:e.jsxs("div",{className:"w-100 d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex flex-row gap-4 justify-content-center align-items-center",children:["Show"," ",e.jsxs("select",{value:d,onChange:B,className:"form-select form-select-sm",children:[e.jsx("option",{value:5,children:"5"}),e.jsx("option",{value:10,children:"10"}),e.jsx("option",{value:20,children:"20"}),e.jsx("option",{value:50,children:"50"})]})," ","entries"]}),e.jsx("div",{className:"text-end",children:e.jsx(S,{allowedRoles:j,children:e.jsxs("button",{type:"button",className:"btn btn-sm btn-light-primary",onClick:b,children:[e.jsx(u,{iconName:"plus",className:"fs-2"}),"Add ",h]})})})]})}),e.jsxs("div",{className:"card-body py-3",children:[e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-striped table-row-gray-100 align-middle gs-0 gy-3 table-hover",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"fw-bold text-muted",children:[c.map(s=>e.jsx("th",{className:s.className||"min-w-120px",children:s.label},s.key)),e.jsx(S,{allowedRoles:j,children:e.jsx("th",{className:"min-w-100px",children:"Aksi"})})]})}),e.jsx("tbody",{children:g.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:c.length+1,className:"text-center py-5",children:e.jsxs("div",{className:"d-flex flex-column align-items-center",children:[e.jsx(u,{iconName:"search",className:"fs-1 text-muted mb-3"}),e.jsx("h5",{className:"text-muted mb-2",children:"No Data Found"}),e.jsx("p",{className:"text-muted fs-7 mb-0",children:"Try adjusting your search or filter criteria."})]})})}):L.map((s,i)=>e.jsxs("tr",{onClick:x?()=>x(s):void 0,className:x?"cursor-pointer":"",children:[c.map(l=>e.jsx("td",{children:e.jsx("span",{className:"text-gray-900 fw-bold fs-6",children:s[l.key]})},l.key)),e.jsx(S,{allowedRoles:j,children:e.jsxs("td",{children:[t&&e.jsx("a",{href:"#",className:"btn btn-icon btn-bg-light btn-active-color-primary btn-sm me-1",onClick:l=>{l.stopPropagation(),t(s)},children:e.jsx(u,{iconName:"printer",className:"fs-3"})}),e.jsx("a",{href:"#",className:"btn btn-icon btn-bg-light btn-active-color-primary btn-sm me-1",onClick:l=>{l.stopPropagation(),p==null||p(s)},children:e.jsx(u,{iconName:"pencil",className:"fs-3"})}),r&&e.jsx("a",{href:"#",className:"btn btn-icon btn-bg-light btn-active-color-primary btn-sm",onClick:l=>{l.stopPropagation(),r==null||r(s)},children:e.jsx(u,{iconName:"trash",className:"fs-3"})})]})})]},i))})]})}),e.jsx(J,{currentPage:P,totalPages:E,onPageChange:z,children:e.jsxs("p",{children:["Showing ",I+1," - ",Math.min(F,g.length)," of"," ",g.length," entries"]})})]})]})};export{D as F,y as I,Y as T,T as a};
