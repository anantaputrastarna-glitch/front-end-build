import{r as c,j as o,P as k,K as T}from"./index-SJ6CaKPn.js";import{M as $}from"./Modal-Dajr1G0h.js";import{u as v,c as x,b as Z,d as P}from"./ThemeProvider-DByzDFN4.js";import{F as g,a as G,I as M}from"./TablesWidget13-CDtcnNGt.js";import"./warning-YOQHYAjv.js";const ee=["as","disabled"];function ae(e,a){if(e==null)return{};var s={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(a.indexOf(t)>=0)continue;s[t]=e[t]}return s}function se(e){return!e||e.trim()==="#"}function V({tagName:e,disabled:a,href:s,target:t,rel:r,role:l,onClick:i,tabIndex:d=0,type:p}){e||(s!=null||t!=null||r!=null?e="a":e="button");const m={tagName:e};if(e==="button")return[{type:p||"button",disabled:a},m];const f=u=>{if((a||e==="a"&&se(s))&&u.preventDefault(),a){u.stopPropagation();return}i==null||i(u)},j=u=>{u.key===" "&&(u.preventDefault(),f(u))};return e==="a"&&(s||(s="#"),a&&(s=void 0)),[{role:l??"button",disabled:void 0,tabIndex:a?void 0:d,href:s,target:e==="a"?t:void 0,"aria-disabled":a||void 0,rel:e==="a"?r:void 0,onClick:f,onKeyDown:j},m]}const oe=c.forwardRef((e,a)=>{let{as:s,disabled:t}=e,r=ae(e,ee);const[l,{tagName:i}]=V(Object.assign({tagName:s,disabled:t},r));return o.jsx(i,Object.assign({},r,l,{ref:a}))});oe.displayName="Button";const B=c.forwardRef(({as:e,bsPrefix:a,variant:s="primary",size:t,active:r=!1,disabled:l=!1,className:i,...d},p)=>{const m=v(a,"btn"),[f,{tagName:j}]=V({tagName:e,disabled:l,...d}),u=j;return o.jsx(u,{...f,...d,ref:p,disabled:l,className:x(i,m,r&&"active",s&&`${m}-${s}`,t&&`${m}-${t}`,d.href&&l&&"disabled")})});B.displayName="Button";function te(e,a){return c.Children.toArray(e).some(s=>c.isValidElement(s)&&s.type===a)}function ne({as:e,bsPrefix:a,className:s,...t}){a=v(a,"col");const r=Z(),l=P(),i=[],d=[];return r.forEach(p=>{const m=t[p];delete t[p];let f,j,u;typeof m=="object"&&m!=null?{span:f,offset:j,order:u}=m:f=m;const C=p!==l?`-${p}`:"";f&&i.push(f===!0?`${a}${C}`:`${a}${C}-${f}`),u!=null&&d.push(`order${C}-${u}`),j!=null&&d.push(`offset${C}-${j}`)}),[{...t,className:x(s,...i,...d)},{as:e,bsPrefix:a,spans:i}]}const H=c.forwardRef((e,a)=>{const[{className:s,...t},{as:r="div",bsPrefix:l,spans:i}]=ne(e);return o.jsx(r,{...t,ref:a,className:x(s,!i.length&&l)})});H.displayName="Col";const re={type:k.string,tooltip:k.bool,as:k.elementType},E=c.forwardRef(({as:e="div",className:a,type:s="valid",tooltip:t=!1,...r},l)=>o.jsx(e,{...r,ref:l,className:x(a,`${s}-${t?"tooltip":"feedback"}`)}));E.displayName="Feedback";E.propTypes=re;const L=c.forwardRef(({bsPrefix:e,className:a,htmlFor:s,...t},r)=>{const{controlId:l}=c.useContext(g);return e=v(e,"form-check-label"),o.jsx("label",{...t,ref:r,htmlFor:s||l,className:x(a,e)})});L.displayName="FormCheckLabel";const q=c.forwardRef(({id:e,bsPrefix:a,bsSwitchPrefix:s,inline:t=!1,reverse:r=!1,disabled:l=!1,isValid:i=!1,isInvalid:d=!1,feedbackTooltip:p=!1,feedback:m,feedbackType:f,className:j,style:u,title:C="",type:n="checkbox",label:h,children:y,as:w="input",...N},b)=>{a=v(a,"form-check"),s=v(s,"form-switch");const{controlId:R}=c.useContext(g),S=c.useMemo(()=>({controlId:e||R}),[R,e]),I=!y&&h!=null&&h!==!1||te(y,L),Y=o.jsx(G,{...N,type:n==="switch"?"checkbox":n,ref:b,isValid:i,isInvalid:d,disabled:l,as:w});return o.jsx(g.Provider,{value:S,children:o.jsx("div",{style:u,className:x(j,I&&a,t&&`${a}-inline`,r&&`${a}-reverse`,n==="switch"&&s),children:y||o.jsxs(o.Fragment,{children:[Y,I&&o.jsx(L,{title:C,children:h}),m&&o.jsx(E,{type:f,tooltip:p,children:m})]})})})});q.displayName="FormCheck";const O=Object.assign(q,{Input:G,Label:L}),_=c.forwardRef(({bsPrefix:e,type:a,size:s,htmlSize:t,id:r,className:l,isValid:i=!1,isInvalid:d=!1,plaintext:p,readOnly:m,as:f="input",...j},u)=>{const{controlId:C}=c.useContext(g);return e=v(e,"form-control"),o.jsx(f,{...j,type:a,size:t,ref:u,readOnly:m,id:r||C,className:x(l,p?`${e}-plaintext`:e,s&&`${e}-${s}`,a==="color"&&`${e}-color`,i&&"is-valid",d&&"is-invalid")})});_.displayName="FormControl";const le=Object.assign(_,{Feedback:E}),A=c.forwardRef(({className:e,bsPrefix:a,as:s="div",...t},r)=>(a=v(a,"form-floating"),o.jsx(s,{ref:r,className:x(e,a),...t})));A.displayName="FormFloating";const D=c.forwardRef(({controlId:e,as:a="div",...s},t)=>{const r=c.useMemo(()=>({controlId:e}),[e]);return o.jsx(g.Provider,{value:r,children:o.jsx(a,{...s,ref:t})})});D.displayName="FormGroup";const W=c.forwardRef(({as:e="label",bsPrefix:a,column:s=!1,visuallyHidden:t=!1,className:r,htmlFor:l,...i},d)=>{const{controlId:p}=c.useContext(g);a=v(a,"form-label");let m="col-form-label";typeof s=="string"&&(m=`${m} ${m}-${s}`);const f=x(r,a,t&&"visually-hidden",s&&m);return l=l||p,s?o.jsx(H,{ref:d,as:"label",className:f,htmlFor:l,...i}):o.jsx(e,{ref:d,className:f,htmlFor:l,...i})});W.displayName="FormLabel";const z=c.forwardRef(({bsPrefix:e,className:a,id:s,...t},r)=>{const{controlId:l}=c.useContext(g);return e=v(e,"form-range"),o.jsx("input",{...t,type:"range",ref:r,className:x(a,e),id:s||l})});z.displayName="FormRange";const J=c.forwardRef(({bsPrefix:e,size:a,htmlSize:s,className:t,isValid:r=!1,isInvalid:l=!1,id:i,...d},p)=>{const{controlId:m}=c.useContext(g);return e=v(e,"form-select"),o.jsx("select",{...d,size:s,ref:p,className:x(t,e,a&&`${e}-${a}`,r&&"is-valid",l&&"is-invalid"),id:i||m})});J.displayName="FormSelect";const Q=c.forwardRef(({bsPrefix:e,className:a,as:s="small",muted:t,...r},l)=>(e=v(e,"form-text"),o.jsx(s,{...r,ref:l,className:x(a,e,t&&"text-muted")})));Q.displayName="FormText";const U=c.forwardRef((e,a)=>o.jsx(O,{...e,ref:a,type:"switch"}));U.displayName="Switch";const ce=Object.assign(U,{Input:O.Input,Label:O.Label}),X=c.forwardRef(({bsPrefix:e,className:a,children:s,controlId:t,label:r,...l},i)=>(e=v(e,"form-floating"),o.jsxs(D,{ref:i,className:x(a,e),controlId:t,...l,children:[s,o.jsx("label",{htmlFor:t,children:r})]})));X.displayName="FloatingLabel";const ie={_ref:k.any,validated:k.bool,as:k.elementType},K=c.forwardRef(({className:e,validated:a,as:s="form",...t},r)=>o.jsx(s,{...t,ref:r,className:x(e,a&&"was-validated")}));K.displayName="Form";K.propTypes=ie;const F=Object.assign(K,{Group:D,Control:le,Floating:A,Check:O,Switch:ce,Label:W,Text:Q,Range:z,Select:J,FloatingLabel:X}),he=({show:e,title:a,fields:s,initialData:t,onSave:r,onClose:l})=>{const[i,d]=c.useState({}),[p,m]=c.useState({});c.useEffect(()=>{d(t),m({})},[t]);const f=()=>{const n={};return s.forEach(h=>{var y;h.required&&!((y=i[h.name])!=null&&y.toString().trim())&&(n[h.name]=`${h.label} is required.`)}),n},j=()=>{const n=f();if(Object.keys(n).length>0){m(n);return}r(i)},u=(n,h)=>{d(y=>({...y,[n]:h})),p[n]&&m(y=>({...y,[n]:""}))},C=n=>{var w;const h=i[n.name]||"",y=p[n.name];return o.jsxs(F.Group,{className:"mb-4",children:[o.jsx(F.Label,{className:"fw-bold",children:n.label}),o.jsxs(M,{children:[n.icon&&n.type!=="checkbox"&&o.jsx(M.Text,{children:o.jsx(T,{iconName:n.icon,className:"fs-3"})}),n.type==="select"?o.jsx(F.Select,{value:h,onChange:N=>{const b=N.target.value;u(n.name,b),n.onChange&&n.onChange(b,{setFieldValue:(R,S)=>d(I=>({...I,[R]:S}))})},isInvalid:!!y,className:"form-control-solid",disabled:n.readonly,children:(w=n.options)==null?void 0:w.map(N=>o.jsx("option",{value:N.value,children:N.label},N.value))}):n.type==="textarea"?o.jsx(F.Control,{as:"textarea",rows:3,placeholder:n.placeholder,value:h,onChange:N=>u(n.name,N.target.value),isInvalid:!!y,className:"form-control-solid",readOnly:n.readonly}):n.type==="checkbox"?o.jsx("div",{className:"form-check form-check-custom form-check-solid form-switch mb-2",children:o.jsx("input",{type:"checkbox",id:n.name,checked:h,onChange:N=>u(n.name,N.target.checked),className:"form-check-input",readOnly:n.readonly})}):o.jsx(F.Control,{type:n.type,placeholder:n.placeholder,value:h,onChange:N=>u(n.name,N.target.value),isInvalid:!!y,className:"form-control-solid",readOnly:n.readonly}),o.jsx(F.Control.Feedback,{type:"invalid",children:y})]})]},n.name)};return o.jsxs($,{show:e,onHide:l,centered:!0,size:"lg",backdrop:"static",className:"fade-in",children:[o.jsxs($.Header,{className:"bg-light",children:[o.jsxs($.Title,{className:"d-flex align-items-center",children:[o.jsx(T,{iconName:"pencil",className:"fs-2 me-3 text-primary"}),a]}),o.jsx(B,{variant:"link",className:"btn-close",onClick:l})]}),o.jsx($.Body,{className:"p-5",children:o.jsx(F,{onKeyDown:n=>{n.key==="Enter"&&!n.shiftKey&&(n.preventDefault(),j())},children:s.map(C)})}),o.jsxs($.Footer,{className:"bg-light",children:[o.jsxs(B,{variant:"light",className:"btn-active-light-danger",onClick:l,children:[o.jsx(T,{iconName:"cross",className:"fs-2 me-2"}),"Cancel"]}),o.jsxs(B,{variant:"primary",onClick:j,children:[o.jsx(T,{iconName:"check",className:"fs-2 me-2"}),"Save Changes"]})]})]})};export{B,H as C,he as D,F};
