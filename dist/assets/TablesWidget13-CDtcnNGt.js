import{r as o,j as e,K as j,ad as w}from"./index-SJ6CaKPn.js";import{u as S,c as T}from"./ThemeProvider-DByzDFN4.js";const A=o.createContext(null);A.displayName="InputGroupContext";const D=o.createContext({}),P=o.forwardRef(({id:n,bsPrefix:a,className:l,type:x="checkbox",isValid:d=!1,isInvalid:i=!1,as:h="input",...t},N)=>{const{controlId:m}=o.useContext(D);return a=S(a,"form-check-input"),e.jsx(h,{...t,ref:N,type:x,id:n||m,className:T(l,a,d&&"is-valid",i&&"is-invalid")})});P.displayName="FormCheckInput";const k=o.forwardRef(({className:n,bsPrefix:a,as:l="span",...x},d)=>(a=S(a,"input-group-text"),e.jsx(l,{ref:d,className:T(n,a),...x})));k.displayName="InputGroupText";const H=n=>e.jsx(k,{children:e.jsx(P,{type:"checkbox",...n})}),J=n=>e.jsx(k,{children:e.jsx(P,{type:"radio",...n})}),K=o.forwardRef(({bsPrefix:n,size:a,hasValidation:l,className:x,as:d="div",...i},h)=>{n=S(n,"input-group");const t=o.useMemo(()=>({}),[]);return e.jsx(A.Provider,{value:t,children:e.jsx(d,{ref:h,...i,className:T(x,n,a&&`${n}-${a}`,l&&"has-validation")})})});K.displayName="InputGroup";const v=Object.assign(K,{Text:k,Radio:J,Checkbox:H}),Q=({children:n,currentPage:a,totalPages:l,onPageChange:x,className:d=""})=>{const i=t=>{t>=1&&t<=l&&t!==a&&x(t)},h=()=>{const t=[];let m=Math.max(1,a-Math.floor(2.5)),p=Math.min(l,m+5-1);p-m+1<5&&(m=Math.max(1,p-5+1));for(let u=m;u<=p;u++)t.push(e.jsx("li",{className:`page-item ${u===a?"active":""}`,children:e.jsx("a",{href:"#",className:"page-link",onClick:b=>{b.preventDefault(),i(u)},children:u})},u));return t};return e.jsxs("div",{className:`d-flex flex-stack flex-wrap pt-5 mx-10 ${d}`,children:[e.jsx("div",{className:"fs-6 fw-bold text-gray-700",children:n}),e.jsxs("ul",{className:"pagination",children:[e.jsx("li",{className:`page-item ${a===1?"disabled":""}`,children:e.jsx("a",{href:"#",className:"page-link",onClick:t=>{t.preventDefault(),i(a-1)},children:e.jsx("i",{className:"previous"})})}),h(),e.jsx("li",{className:`page-item ${a===l?"disabled":""}`,children:e.jsx("a",{href:"#",className:"page-link",onClick:t=>{t.preventDefault(),i(a+1)},children:e.jsx("i",{className:"next"})})})]})]})},Y=({className:n,rows:a,columns:l,labelAdd:x,filters:d=[],onDelete:i,onEdit:h,onAddClick:t,onRowClick:N,roleAccess:m=["ADMIN"]})=>{const[p,u]=o.useState(10),[b,g]=o.useState(1),[C,R]=o.useState(""),[V,G]=o.useState(""),[M,O]=o.useState({}),f=a.filter(s=>{const c=!C||Object.values(s).some(y=>String(y).toLowerCase().includes(C.toLowerCase())),r=d.every(y=>{const F=M[y.key];return!F||String(s[y.key])===F});return c&&r}),L=Math.ceil(f.length/p),I=(b-1)*p,$=I+p,W=f.slice(I,$),q=d.reduce((s,c)=>(s[c.key]=c.options||Array.from(new Set(a.map(r=>String(r[c.key])))),s),{}),z=s=>{g(s)},B=s=>{u(Number(s.target.value)),g(1)};return e.jsxs("div",{className:`card ${n}`,children:[e.jsxs("div",{className:"d-flex justify-content-center gap-3 mx-10 my-5",children:[e.jsxs(v,{size:"sm",children:[e.jsx(v.Text,{children:e.jsx(j,{iconName:"magnifier",className:"fs-3"})}),e.jsx("input",{type:"text",className:"form-control",placeholder:"Search...",value:V,onChange:s=>G(s.target.value),onKeyDown:s=>{s.key==="Enter"&&(R(V),g(1))}}),C&&e.jsx("button",{type:"button",className:"btn btn-outline-dark",onClick:()=>{G(""),R(""),g(1)},children:e.jsx(j,{iconName:"cross",className:"fs-3"})})]}),d.map(s=>e.jsxs(v,{size:"sm",style:{maxWidth:"300px"},children:[e.jsx(v.Text,{children:e.jsx(j,{iconName:"filter",className:"fs-3"})}),e.jsxs("select",{className:"form-select",value:M[s.key]||"",onChange:c=>{O(r=>({...r,[s.key]:c.target.value})),g(1)},children:[e.jsx("option",{value:"",children:s.label}),q[s.key].map(c=>e.jsx("option",{value:c,children:c},c))]})]},s.key))]}),e.jsx("div",{className:"border-0 mx-10",children:e.jsxs("div",{className:"w-100 d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex flex-row gap-4 justify-content-center align-items-center",children:["Show"," ",e.jsxs("select",{value:p,onChange:B,className:"form-select form-select-sm",children:[e.jsx("option",{value:5,children:"5"}),e.jsx("option",{value:10,children:"10"}),e.jsx("option",{value:20,children:"20"}),e.jsx("option",{value:50,children:"50"})]})," ","entries"]}),e.jsx("div",{className:"text-end",children:e.jsx(w,{allowedRoles:m,children:e.jsxs("button",{type:"button",className:"btn btn-sm btn-light-primary",onClick:t,children:[e.jsx(j,{iconName:"plus",className:"fs-2"}),"Add ",x]})})})]})}),e.jsxs("div",{className:"card-body py-3",children:[e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-striped table-row-gray-100 align-middle gs-0 gy-3 table-hover",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"fw-bold text-muted",children:[l.map(s=>e.jsx("th",{className:s.className||"min-w-120px",children:s.label},s.key)),e.jsx(w,{allowedRoles:m,children:e.jsx("th",{className:"min-w-100px",children:"Aksi"})})]})}),e.jsx("tbody",{children:f.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:l.length+1,className:"text-center py-5",children:e.jsxs("div",{className:"d-flex flex-column align-items-center",children:[e.jsx(j,{iconName:"search",className:"fs-1 text-muted mb-3"}),e.jsx("h5",{className:"text-muted mb-2",children:"No Data Found"}),e.jsx("p",{className:"text-muted fs-7 mb-0",children:"Try adjusting your search or filter criteria."})]})})}):W.map((s,c)=>e.jsxs("tr",{onClick:N?()=>N(s):void 0,className:N?"cursor-pointer":"",children:[l.map(r=>e.jsx("td",{children:e.jsx("span",{className:"text-gray-900 fw-bold fs-6",children:s[r.key]})},r.key)),e.jsx(w,{allowedRoles:m,children:e.jsxs("td",{children:[e.jsx("a",{href:"#",className:"btn btn-icon btn-bg-light btn-active-color-primary btn-sm me-1",onClick:r=>{r.stopPropagation(),h==null||h(s)},children:e.jsx(j,{iconName:"pencil",className:"fs-3"})}),i&&e.jsx("a",{href:"#",className:"btn btn-icon btn-bg-light btn-active-color-primary btn-sm",onClick:r=>{r.stopPropagation(),i==null||i(s)},children:e.jsx(j,{iconName:"trash",className:"fs-3"})})]})})]},c))})]})}),e.jsx(Q,{currentPage:b,totalPages:L,onPageChange:z,children:e.jsxs("p",{children:["Showing ",I+1," - ",Math.min($,f.length)," of"," ",f.length," entries"]})})]})]})};export{D as F,v as I,Y as T,P as a};
